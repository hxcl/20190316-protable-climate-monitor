主从机通信程序
//主机
#include <Wire.h>
bool clockwise=0;//0逆时针，1顺时针
void setup()
{
    Serial.begin(9600);  
    Wire.begin(); 
}
void loop() 
{ 
  Trans();
  delay(2000);
}
void Trans()
{
  Wire.beginTransmission(0x99);//括号内补充从机地址
  Wire.write(clockwise);
  Wire.endTransmission();
}

//从机
#include <Wire.h>
bool clockwise=0;//0逆时针，1顺时针
void setup() 
{
  Serial.begin(9600);
  Wire.begin(0x99);//括号内补充本机地址，作为从机
  Wire.onReceive(receiveEvent);
}

void loop() 
{
  
  delay(100);
}

void receiveEvent()
{
  while(Wire.available()>0)
  {
    clockwise=Wire.read();
  }
  Serial.println(clockwise);
}
